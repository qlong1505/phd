<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ousb DC motor controller: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ousb DC motor controller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Ousb DC motor controller Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This file includes codes for a PI controller on speed_debug_data motor using an OUSB board Detail about how to work with OUSB board can be found at this side <a href="https://pjradcliffe.wordpress.com/open-usb-io">https://pjradcliffe.wordpress.com/open-usb-io</a> Motor Controller update V16.10.04:</p><ul>
<li>PI controller</li>
<li>jitter option for sampling</li>
</ul>
<p>V16.09.16:</p><ul>
<li>Add controller loop</li>
</ul>
<p>V16.09.04:</p>
<ul>
<li>loop controller 10ms</li>
<li>Take sample when there are both rising and falling edge of flipflop</li>
</ul>
<p>V16.08.20:</p><ul>
<li>new 200us interrupt function ( to replace 500us)</li>
<li>recorded 200 value of speed</li>
</ul>
<p>Resources for this programs <a href="https://pjradcliffe.wordpress.com/open-usb-io/resources/">https://pjradcliffe.wordpress.com/open-usb-io/resources/</a></p>
<p>---------------&mdash; my_code ----------------------------------------------&mdash;</p>
<p>PURPOSE : This project does a lot of hardware control using an Arduino style library for the ATMEGA32 on the Open-USB-IO board. It also integrates the CoUSB code so you can debug using just the USB link.</p>
<pre class="fragment">      See the document arduino_ousb.pdf for a brief description
      of the functions and what they can do.
      See section 7.3 of the main OUSB manual (on the desktop)
      and see code in /home/user/projects/co-USB/_main_demo_of_CoUSB/
      to see what is possible using CoUSB.
</pre><p>TO COMPILE AND PROGRAM the Open-USB_IO BOARD</p><ul>
<li>Type "make all" to ensure everything is compiled.</li>
<li>Plug an Open-USB-IO board into a USB port.</li>
<li>If the USB Bootloader is installed then move the link on J10 near the LEDs to J9 near the trim pot. Hit reset on the board then type "make usbprog". Now move the link on J9 back to J10. If you are using the STK-200 programming cable from a parallel port to the ISP header on Open-USB-IO then type "make prog".</li>
<li>Look at the code to see what the program can do. Change the indicated switches to see LEDs rotate and more.</li>
<li>You will probably want to re-install the USB interface program after you finish with this code. To restore with the USB bootloader move the link from J10 to J9, hit reset, the type "ousb_usbprog". Return the link from J9 to J10. Try a simple command such as "ousb io portb 255" to check the USB interface program is working. To achieve the same using the STK-200 cable type ousb_prog</li>
</ul>
<p>ALSO</p><ul>
<li>In the terminal type "make help" to see all the make file can do.</li>
</ul>
<p>NOTE: the Arduino libraries are easy to use but they are slow and generate extra code. If you need speed then work directly with the registers, see the code in /home/user/projects/AAA_simple_ousb_projects and /home/user/projects/co-USB/_main_demo_of_CoUSB/ for some examples. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
